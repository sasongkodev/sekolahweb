---
import Layout from "../layouts/Layout.astro";
import HomeCarousel from "../components/HomeCarousel";
import HomeAbout from "../components/HomeAbout";
import HomeBerita from "../components/HomeBerita";
import { getCollection } from "astro:content";

const allPosts = await getCollection("berita");
const latestPosts = allPosts
	.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
	.slice(0, 3);
---

<Layout title="Beranda - SMA Insan Cendekia">
	<!-- Hero Carousel Section -->
	<HomeCarousel client:load />

	<!-- About Section -->
	<HomeAbout client:load />

	<!-- Latest News Section -->
	<HomeBerita posts={latestPosts} client:visible />
</Layout>
